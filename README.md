# RoboMaster EC-Group Getting Started Tutorial

### 序言
众所周知，在 RoboMaster 中存在着若干的组别，机械组赋予机器人躯体，视觉组构建了机器人的大脑，而电控组往往组成了机器人的小脑、血管和神经。RoboMaster 作为一个机器人比赛，机器人的运行稳定性与实时响应能力往往决定了战场生死，而在这背后，撑起整机生命线的，正是电控组。

电控组，俗称保命组，其定义如下：在 RoboMaster 比赛中，机械结构负责“动起来”，视觉组负责“看得见”，而电控组则负责“看得见也得动得起来”，是连接上层算法与底层硬件的桥梁。无论是摩擦轮的狂轰滥炸，还是云台的稳定制导，底盘的灵活机动，所有的一切，都必须经过电控的信号调度与电源统筹，才能最终成为现实。

在烈焰纷飞的赛场上，一颗保险丝的熔断、一个串口的中断异常、一次 CAN 总线的掉线，都会让最强悍的机器人瞬间变成废铁。因此，电控组的意义不仅仅在于“能打”，而是保证“活着打”、“一直打”。所以你可以说：电控组是每一个RoboMaster战队的中坚力量。

电控组成员们负责机器人的控制，包括嵌入式开发、通信、电机选型与驱动以及控制算法等。在这里，你可以学习并实践基于STM32单片机的嵌入式开发，CAN、SPI、I2C、UART等通讯协议，机器人的常用控制算法，嵌入式开发和硬件相关知识。

> Note：本篇主要用于简单入门电控组嵌入式开发所需的基础知识，涵盖开发语言、通信、控制算法、运动学解算等。其中拓展链接为可选内容，不会纳入笔试考核范围。

## C语言基础：嵌入式开发的起点

C语言是一门结构化、静态类型的中级语言，既能贴近底层硬件操作，又具备良好的可读性与可维护性。在嵌入式开发领域，尤其是单片机（MCU）系统中，C语言几乎是“事实标准”，被广泛用于驱动外设、处理中断、执行实时控制等关键任务。与高级语言相比，C语言更小巧高效，可直接操作寄存器、内存与端口资源，同时生成的机器码体积小、执行速度快，非常适合资源受限的嵌入式环境。
在RoboMaster电控组的日常开发中，我们使用C语言与STM32等主控芯片进行交互，编写设备驱动、中断处理函数、通信协议与控制逻辑，是控制机器人“动起来”的关键工具。掌握C语言不仅是入门的第一步，更是日后解决调试、优化与系统集成问题的核心能力基础。

因此，对于电控组的队员而言，对C语言的掌握自然是越熟悉越好。但是鉴于电控相关知识在短时间内不可能精通，基本需要在进入团队后根据实际物品来进行实践学习。刚刚入门电控组的同学只需要学习完基本语法部分，可以进行简单编程以及阅读代码即可，需要掌握的内容主要包括以下部分：

- [分支 循环](https://github.com/RM-DragoPass-EC-Group/EC-Group-Tutorial/blob/main/Getting%20Start%20with%20C%20Language/1.%20%E5%88%86%E6%94%AF%20%E5%BE%AA%E7%8E%AF.pdf)
- [变量与常量、数据类型、取值范围、算数运算符与逻辑运算符](https://github.com/RM-DragoPass-EC-Group/EC-Group-Tutorial/blob/main/Getting%20Start%20with%20C%20Language/2.%20%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B8%B8%E9%87%8F%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E3%80%81%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4%E3%80%81%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.pdf)
- [数组、函数、结构体、枚举类型](https://github.com/RM-DragoPass-EC-Group/EC-Group-Tutorial/blob/main/Getting%20Start%20with%20C%20Language/3.%20%E6%95%B0%E7%BB%84%E3%80%81%E5%87%BD%E6%95%B0%E3%80%81%E7%BB%93%E6%9E%84%E4%BD%93%E3%80%81%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B.pdf)
- [指针](https://github.com/RM-DragoPass-EC-Group/EC-Group-Tutorial/blob/main/Getting%20Start%20with%20C%20Language/4.%20%E6%8C%87%E9%92%88.pdf)

拓展(option)：对于有余力和有想法的同学，欢迎完整学习C语言编程，参考教程：[C语言教程|菜鸟教程](https://www.runoob.com/cprogramming/c-tutorial.html)

## RM电控入门 1：从认识 RoboMaster 机器人开始

在真正动手写下第一行代码之前，了解我们正在操控的“机器”本身，是电控学习的第一步。RoboMaster 机器人并不是一个单一的设备，而是由多个高度集成、相互协作的模块组成的复杂系统。嵌入式开发基本上是一个软硬件开发结合的过程，没有单纯的软件和单纯的硬件，只有侧重点的不同。
本章将带你快速浏览 RoboMaster 机器人的主要组成部分，并重点介绍那些与你作为“电控工程师”息息相关的硬件模块。掌握这些模块的结构与功能，不仅能帮助我们更清晰地理解代码在“控制什么”，更能在调试和排障中快速定位问题。

- [快速链接: 认识 RoboMaster 机器人](https://github.com/RM-DragoPass-EC-Group/EC-Group-Tutorial/blob/main/RM-EC%201%20%E2%80%94%E2%80%94%20Introduction%20of%20RoboMaster%20Robots/README.md)

## RM电控入门 2：通讯协议

在 RoboMaster 电控开发中，我们常说“一个人写代码，一群模块在聊天”。这些“聊天”的方式，其实就是各类通信协议。而在所有通信方式中，**UART（串口通信）** 和 **CAN（控制器局域网）** 是 STM32 平台上最常用、最关键的两种通信手段，贯穿了从传感器读取、模块协作到上位机交互的整个控制链路。

作为 RoboMaster 机器人最常见的主控芯片之一，STM32 系列 MCU 原生支持 UART、CAN、SPI、I2C 等多种通信接口，其中 UART 通信以其简单直接，广泛用于模块串口调试、裁判系统通信、视觉数据收发等场景；而 CAN 通信则以其高可靠性与总线结构，成为多个电调、电机等模块的常用通信协议。因此，在加入电控组前，需要掌握一定的通信协议原理。

请跟随链接中的视频学习初步学习UART与CAN的通信原理：

- [RoboMaster机器人基础： 通讯原理](https://www.bilibili.com/video/BV1m4411y792?vd_source=bb8f899351e8f533e1009b98651e7647&spm_id_from=333.788.videopod.episodes&p=7)

拓展(Option)：更多STM32单片机通信协议
 - [RS232、RS485、TTL协议](https://www.cnblogs.com/ppqppl/articles/16806607.html)
 - [stm32常用通信协议简介及相关代码](https://blog.csdn.net/lyj456258/article/details/125135919)

## RM电控入门 3：CAN通讯与电机控制

RM 电机最大的特点之一就是通过 CAN 总线协议 实现通信控制。相比传统 PWM 或模拟控制方式，CAN 控制具有实时性强、总线资源共享、高抗干扰能力等优势，非常适合复杂机器人系统中的多电机协同控制。在 RM 体系中，电控组通过 STM32 控制器向电调发送标准化控制帧，并接收来自电机的反馈信息（如角度、速度、电流等），实现精准的闭环控制。

请自主学习参考链接中的内容，了解 RM 电机控制的整体框架，包括 CAN 报文格式、电机控制协议、实际收发逻辑，为你今后开发底盘、云台、发射等模块奠定坚实的技术基础。

- [RM系列电机控制](https://www.cnblogs.com/sasasatori/p/11661343.html)

## RM电控入门 4：PID控制器

想象一下这样的场景：你控制机器人底盘向前移动，让它以 2 m/s 的速度前进，但它不是慢了就是快了；你让云台对准目标，结果它晃来晃去、越调越偏，甚至在关键时刻抖个不停。这不是硬件不给力，而是你没有正确的使用控制算法。在 RoboMaster 电控开发中，电机和舵机这些执行机构的响应并不完美，会受到惯性、负载变化、摩擦等因素影响。要想让机器人 **精准快速地跟上指令并保持稳定状态** ，我们就需要引入经典的控制算法—— **PID 控制器** 。

PID（比例-积分-微分）控制器是一种广泛应用于工业与机器人系统中的闭环控制方法，能够根据目标值（期望）和实际值之间的误差，动态调节控制输出，从而驱动电机或执行机构精确跟随指令。在 RoboMaster 中，从底盘速度、云台角度到摩擦轮转速，几乎所有需要“稳定输出”的地方都离不开 PID 的支持。

请尝试学习 PID 控制器的算法原理和代码实现：

- [PID控制器](https://www.cnblogs.com/sasasatori/p/11672918.html)

## RM电控入门 5：底盘控制之麦克纳姆轮运动学解算

在 RoboMaster 比赛中，底盘是机器人快速响应与灵活走位的关键，而为了实现“原地旋转”“斜向滑行”“快速追击”等高机动动作，RM 系统大量使用了麦克纳姆轮全向底盘。这种看似普通的轮子，其实隐藏着复杂而精巧的运动原理。

如果你直接对四个轮子分别“给转速”，机器人可能会歪着走、打转甚至原地踏步。这时候，就需要一套科学的运动学模型来接管——麦克纳姆轮运动学解算。它能将我们设定的目标运动（如向前、横移、旋转）转换为每个轮子的具体转速指令，协调四轮输出，实现真正的“全向移动”。

请参考链接内容自主学习并理解麦克纳姆轮的结构特点、力学分解方式以及如何基于运动学模型进行正解（从轮速得出整体速度）与逆解（从目标速度求出轮速）并实现代码：

- [麦克纳姆轮正逆运动学解算](https://www.robotsfan.com/posts/b6e9d4e.html)

## 笔试题参考
我们上传了一份电控组笔试题（word文档）以供参考：
- [参考笔试题](https://github.com/RM-DragoPass-EC-Group/EC-Group-Tutorial/blob/main/test%20template.docx)

注意：上述笔试题仅作题型参考，不代表最终笔试题的分数权重分配和题目难度
